<!DOCTYPE html>
<html lang="">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title></title>


    <style>
        #udskriv {
            max-width: 1000px;
            margin: 0 auto;
            padding: 10px;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            grid-gap: 5px;
        }
    </style>

</head>

<body>


    <section id="detalje">
        <button id="tilbage">
            <span>&#8617;</span>
        </button>

        <article id="passion">
            <h1></h1>
            <img src="" alt="">
            <p></p>
            <p></p>

        </article>
    </section>



    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const id = urlParams.get("id");
        console.log(id);
        let allePassioner = [];

        //Indsæt google sheet
        const endpoint = "https://spreadsheets.google.com/feeds/list/1AdgP4T0S2sqYOZNl3aHq_vHGg7hOj5ulN23DWNIHV48/2/public/values?alt=json";
        document.addEventListener("DOMContentLoaded", start);

        const detalje = document.querySelector("#detalje");


        //start
        function start() {
            hentData();


        }
        //Henter json fil og kalder funktionen visPassioner når den er hentet
        async function hentData() {

            const response = await fetch(endpoint);
            allePassioner = await response.json();
            console.log(allePassioner);

            visPassioner();
        }


        function visPassioner() {
            detalje.querySelector("button").addEventListener("click", () => {
                history.back();
            });



            allePassioner.feed.entry.forEach(passion => {
                if (passion.gsx$id.$t == id) {

                    detalje.querySelector("h1").textContent = passion.gsx$navn.$t;

                    detalje.querySelector("p").textContent = passion.gsx$lang.$t;

                    detalje.querySelector("img").src = "img/small/" + passion.gsx$billede.$t + "-sm.jpg";
                    console.log(retter.gsx$navn.$t);


                }
            });

        }


        //        function visDetalje(passion) {
        // detalje.classList.remove("skjul");
        // detalje.querySelector("button").addEventListener("click", () => detalje.classList.add("skjul"));
        // detalje.querySelector("h1").textContent = passion.gsx$navn.$t;
        // detalje.querySelector("p").textContent = passion.gsx$lang.$t;
        // detalje.querySelector("p + p").textContent = "Oprindelse:" + passion.gsx$oprindelse.$t;
        // detalje.querySelector("img").src = "imgs/large/" + passion.gsx$billede.$t + ".jpg";
        // console.log(passion.gsx$navn.$t);
        // }
    </script>
</body></html>
